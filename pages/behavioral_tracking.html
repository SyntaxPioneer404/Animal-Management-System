<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Behavioral Tracking - Zoo Management System</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fzoomanage2444back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="min-h-screen bg-background">
    <!-- Header -->
    <header class="bg-surface shadow-md border-b border-border">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo and Navigation -->
                <div class="flex items-center space-x-8">
                    <div class="flex items-center">
                        <div class="flex items-center justify-center w-10 h-10 bg-primary rounded-lg">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                <circle cx="12" cy="8" r="2"/>
                                <path d="M12 14c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                        <span class="ml-3 text-xl font-heading font-bold text-text-primary">Zoo Management</span>
                    </div>
                    
                    <!-- Navigation Links -->
                    <nav class="hidden md:flex space-x-6">
                        <a href="animal_dashboard.html" class="text-text-secondary hover:text-primary transition-colors font-medium">Dashboard</a>
                        <a href="animal_profile.html" class="text-text-secondary hover:text-primary transition-colors font-medium">Animals</a>
                        <a href="feeding_management.html" class="text-text-secondary hover:text-primary transition-colors font-medium">Feeding</a>
                        <a href="health_monitoring.html" class="text-text-secondary hover:text-primary transition-colors font-medium">Health</a>
                        <a href="behavioral_tracking.html" class="text-primary font-medium border-b-2 border-primary pb-4">Behavior</a>
                    </nav>
                </div>

                <!-- User Profile -->
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <button class="flex items-center space-x-2 text-text-secondary hover:text-text-primary transition-colors">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="User Avatar" class="w-8 h-8 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <span class="text-sm font-medium">Dr. Sarah Wilson</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    <a href="login.html" class="text-text-secondary hover:text-error transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Page Header -->
        <div class="mb-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-heading font-bold text-text-primary">Behavioral Tracking</h1>
                    <p class="mt-2 text-text-secondary">Monitor and analyze animal behavioral patterns and incidents</p>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="exportBtn" class="btn-secondary">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        Export Data
                    </button>
                    <button id="logObservationBtn" class="btn-primary">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                        </svg>
                        Log New Observation
                    </button>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Filter Panel -->
            <div class="lg:col-span-1">
                <div class="card sticky top-8">
                    <h3 class="text-lg font-heading font-semibold text-text-primary mb-4">Filters</h3>
                    
                    <!-- Behavior Category Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Behavior Category</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" class="behavior-filter rounded border-border text-primary focus:ring-primary" value="all" checked />
                                <span class="ml-2 text-sm text-text-secondary">All Categories</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="behavior-filter rounded border-border text-primary focus:ring-primary" value="feeding" />
                                <span class="ml-2 text-sm text-text-secondary">Feeding</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="behavior-filter rounded border-border text-primary focus:ring-primary" value="social" />
                                <span class="ml-2 text-sm text-text-secondary">Social Interaction</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="behavior-filter rounded border-border text-primary focus:ring-primary" value="aggression" />
                                <span class="ml-2 text-sm text-text-secondary">Aggression</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="behavior-filter rounded border-border text-primary focus:ring-primary" value="enrichment" />
                                <span class="ml-2 text-sm text-text-secondary">Enrichment</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="behavior-filter rounded border-border text-primary focus:ring-primary" value="abnormal" />
                                <span class="ml-2 text-sm text-text-secondary">Abnormal Behavior</span>
                            </label>
                        </div>
                    </div>

                    <!-- Species Filter -->
                    <div class="mb-6">
                        <label for="speciesFilter" class="block text-sm font-medium text-text-primary mb-2">Species</label>
                        <select id="speciesFilter" class="input-field">
                            <option value>All Species</option>
                            <option value="lion">Lion</option>
                            <option value="leopard">Leopard</option>
                            <option value="rhinoceros">Rhinoceros</option>
                            <option value="elephant">Elephant</option>
                            <option value="buffalo">Cape Buffalo</option>
                        </select>
                    </div>

                    <!-- Date Range Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Date Range</label>
                        <div class="space-y-2">
                            <input type="date" id="startDate" class="input-field" value="2025-09-11" />
                            <input type="date" id="endDate" class="input-field" value="2025-09-18" />
                        </div>
                    </div>

                    <!-- Staff Filter -->
                    <div class="mb-6">
                        <label for="staffFilter" class="block text-sm font-medium text-text-primary mb-2">Staff Member</label>
                        <select id="staffFilter" class="input-field">
                            <option value>All Staff</option>
                            <option value="sarah">Dr. Sarah Wilson</option>
                            <option value="mike">Mike Johnson</option>
                            <option value="emma">Emma Davis</option>
                            <option value="james">James Brown</option>
                        </select>
                    </div>

                    <!-- Severity Filter -->
                    <div class="mb-6">
                        <label for="severityFilter" class="block text-sm font-medium text-text-primary mb-2">Severity Level</label>
                        <select id="severityFilter" class="input-field">
                            <option value>All Levels</option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                            <option value="critical">Critical</option>
                        </select>
                    </div>

                    <!-- Reset Filters -->
                    <button id="resetFilters" class="w-full btn-secondary">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                        </svg>
                        Reset Filters
                    </button>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="lg:col-span-3">
                <!-- Pattern Analysis Dashboard -->
                <div class="card mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-heading font-semibold text-text-primary">Behavioral Pattern Analysis</h3>
                        <button class="text-primary hover:text-primary-600 text-sm font-medium">View Full Report</button>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Trend Chart Placeholder -->
                        <div class="md:col-span-2">
                            <div class="bg-primary-50 rounded-lg p-6 h-64 flex items-center justify-center">
                                <div class="text-center">
                                    <svg class="w-12 h-12 text-primary mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                    </svg>
                                    <p class="text-primary font-medium">Behavioral Trend Chart</p>
                                    <p class="text-primary-600 text-sm">Weekly behavior frequency analysis</p>
                                </div>
                            </div>
                        </div>

                        <!-- Key Insights -->
                        <div class="space-y-4">
                            <div class="bg-success-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-success mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-success-700 font-medium text-sm">Normal Patterns</span>
                                </div>
                                <p class="text-success-600 text-xs mt-1">85% of behaviors within expected range</p>
                            </div>
                            
                            <div class="bg-warning-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-warning mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-warning-700 font-medium text-sm">Attention Needed</span>
                                </div>
                                <p class="text-warning-600 text-xs mt-1">3 animals showing stress indicators</p>
                            </div>
                            
                            <div class="bg-accent-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-accent-700 font-medium text-sm">Active Monitoring</span>
                                </div>
                                <p class="text-accent-600 text-xs mt-1">12 observations logged today</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Behavioral Observations Feed -->
                <div class="card">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-heading font-semibold text-text-primary">Recent Observations</h3>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-text-secondary">Sort by:</span>
                            <select id="sortBy" class="text-sm border border-border rounded px-2 py-1">
                                <option value="newest">Newest First</option>
                                <option value="oldest">Oldest First</option>
                                <option value="severity">Severity</option>
                                <option value="species">Species</option>
                            </select>
                        </div>
                    </div>

                    <!-- Observations List -->
                    <div id="observationsList" class="space-y-6">
                        <!-- Observation Entry 1 -->
                        <div class="observation-card border border-border rounded-lg p-6 hover:shadow-md transition-shadow" data-species="lion" data-behavior="feeding" data-severity="low" data-staff="sarah" data-date="2025-09-18">
                            <div class="flex items-start space-x-4">
                                <img src="https://images.pexels.com/photos/33045/lion-wild-africa-african.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Simba the Lion" class="w-16 h-16 rounded-lg object-cover flex-shrink-0" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                
                                <div class="flex-1">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <h4 class="font-heading font-semibold text-text-primary">Simba - Lion</h4>
                                            <span class="status-badge status-success">Normal Feeding</span>
                                            <span class="text-xs text-text-secondary">Low Priority</span>
                                        </div>
                                        <div class="text-sm text-text-secondary">
                                            <span>Today, 2:30 PM</span>
                                        </div>
                                    </div>
                                    
                                    <p class="text-text-secondary mb-3">
                                        Observed normal feeding behavior during afternoon meal. Simba consumed approximately 8kg of meat within 20 minutes, showing healthy appetite and no signs of food aggression. Interaction with enrichment toys was positive.
                                    </p>
                                    
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                                </svg>
                                                Dr. Sarah Wilson
                                            </span>
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                </svg>
                                                Enclosure A-1
                                            </span>
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>
                                                </svg>
                                                Sunny, 24°C
                                            </span>
                                        </div>
                                        <button class="text-primary hover:text-primary-600 text-sm font-medium">View Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Observation Entry 2 -->
                        <div class="observation-card border border-border rounded-lg p-6 hover:shadow-md transition-shadow" data-species="elephant" data-behavior="social" data-severity="medium" data-staff="mike" data-date="2025-09-18">
                            <div class="flex items-start space-x-4">
                                <img src="https://images.pixabay.com/photo/2016/11/14/04/14/elephant-1822636_1280.jpg" alt="Kesi the Elephant" class="w-16 h-16 rounded-lg object-cover flex-shrink-0" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                
                                <div class="flex-1">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <h4 class="font-heading font-semibold text-text-primary">Kesi - Elephant</h4>
                                            <span class="status-badge status-warning">Social Tension</span>
                                            <span class="text-xs text-warning-600">Medium Priority</span>
                                        </div>
                                        <div class="text-sm text-text-secondary">
                                            <span>Today, 11:45 AM</span>
                                        </div>
                                    </div>
                                    
                                    <p class="text-text-secondary mb-3">
                                        Observed mild social tension between Kesi and Temba during morning enrichment activities. Kesi displayed defensive posturing and trunk positioning when Temba approached the new puzzle feeder. Separated animals temporarily to reduce stress.
                                    </p>
                                    
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                                </svg>
                                                Mike Johnson
                                            </span>
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                </svg>
                                                Enclosure E-2
                                            </span>
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>
                                                </svg>
                                                Overcast, 22°C
                                            </span>
                                        </div>
                                        <button class="text-primary hover:text-primary-600 text-sm font-medium">View Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Observation Entry 3 -->
                        <div class="observation-card border border-border rounded-lg p-6 hover:shadow-md transition-shadow" data-species="rhinoceros" data-behavior="abnormal" data-severity="high" data-staff="emma" data-date="2025-09-17">
                            <div class="flex items-start space-x-4">
                                <img src="https://images.unsplash.com/photo-1564760055775-d63b17a55c44?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Jabari the Rhinoceros" class="w-16 h-16 rounded-lg object-cover flex-shrink-0" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                
                                <div class="flex-1">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <h4 class="font-heading font-semibold text-text-primary">Jabari - Rhinoceros</h4>
                                            <span class="status-badge status-error">Repetitive Pacing</span>
                                            <span class="text-xs text-error-600">High Priority</span>
                                        </div>
                                        <div class="text-sm text-text-secondary">
                                            <span>Yesterday, 4:15 PM</span>
                                        </div>
                                    </div>
                                    
                                    <p class="text-text-secondary mb-3">
                                        Jabari exhibited repetitive pacing behavior along the eastern fence line for approximately 45 minutes. This stereotypic behavior pattern has been observed for three consecutive days. Veterinary consultation recommended for stress assessment and environmental enrichment review.
                                    </p>
                                    
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                                </svg>
                                                Emma Davis
                                            </span>
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                </svg>
                                                Enclosure R-1
                                            </span>
                                            <span class="flex items-center">
                                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>
                                                </svg>
                                                Partly Cloudy, 26°C
                                            </span>
                                        </div>
                                        <button class="text-error hover:text-error-600 text-sm font-medium">Flag for Review</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Load More Button -->
                        <div class="text-center pt-6">
                            <button id="loadMoreBtn" class="btn-secondary">
                                Load More Observations
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Log Observation Modal -->
    <div id="observationModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-surface rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-heading font-semibold text-text-primary">Log New Observation</h3>
                    <button id="closeModal" class="text-text-secondary hover:text-text-primary">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>

                <form id="observationForm" class="space-y-6">
                    <!-- Animal Selection -->
                    <div>
                        <label for="animalSelect" class="block text-sm font-medium text-text-primary mb-2">Select Animal</label>
                        <select id="animalSelect" class="input-field" required>
                            <option value>Choose an animal...</option>
                            <option value="simba">Simba - Lion</option>
                            <option value="nala">Nala - Lion</option>
                            <option value="kesi">Kesi - Elephant</option>
                            <option value="temba">Temba - Elephant</option>
                            <option value="jabari">Jabari - Rhinoceros</option>
                            <option value="amara">Amara - Leopard</option>
                            <option value="tau">Tau - Cape Buffalo</option>
                        </select>
                    </div>

                    <!-- Behavior Category -->
                    <div>
                        <label for="behaviorCategory" class="block text-sm font-medium text-text-primary mb-2">Behavior Category</label>
                        <select id="behaviorCategory" class="input-field" required>
                            <option value>Select category...</option>
                            <option value="feeding">Feeding</option>
                            <option value="social">Social Interaction</option>
                            <option value="aggression">Aggression</option>
                            <option value="enrichment">Enrichment Engagement</option>
                            <option value="abnormal">Abnormal Behavior</option>
                            <option value="resting">Resting/Sleeping</option>
                            <option value="grooming">Grooming</option>
                            <option value="play">Play Behavior</option>
                        </select>
                    </div>

                    <!-- Severity Assessment -->
                    <div>
                        <label for="severityLevel" class="block text-sm font-medium text-text-primary mb-2">Severity Level</label>
                        <select id="severityLevel" class="input-field" required>
                            <option value>Select severity...</option>
                            <option value="low">Low - Normal behavior</option>
                            <option value="medium">Medium - Requires monitoring</option>
                            <option value="high">High - Immediate attention needed</option>
                            <option value="critical">Critical - Emergency response required</option>
                        </select>
                    </div>

                    <!-- Detailed Description -->
                    <div>
                        <label for="behaviorDescription" class="block text-sm font-medium text-text-primary mb-2">Detailed Description</label>
                        <textarea id="behaviorDescription" rows="4" class="input-field" placeholder="Provide detailed observations of the behavior, duration, triggers, and any relevant context..." required></textarea>
                    </div>

                    <!-- Environmental Conditions -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="weather" class="block text-sm font-medium text-text-primary mb-2">Weather Conditions</label>
                            <select id="weather" class="input-field">
                                <option value>Select weather...</option>
                                <option value="sunny">Sunny</option>
                                <option value="cloudy">Cloudy</option>
                                <option value="overcast">Overcast</option>
                                <option value="rainy">Rainy</option>
                                <option value="windy">Windy</option>
                            </select>
                        </div>
                        <div>
                            <label for="temperature" class="block text-sm font-medium text-text-primary mb-2">Temperature (°C)</label>
                            <input type="number" id="temperature" class="input-field" placeholder="e.g., 24" min="-10" max="50" />
                        </div>
                    </div>

                    <!-- Photo Upload -->
                    <div>
                        <label for="photoUpload" class="block text-sm font-medium text-text-primary mb-2">Photo/Video Upload</label>
                        <div class="border-2 border-dashed border-border rounded-lg p-6 text-center">
                            <svg class="w-8 h-8 text-text-secondary mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                            </svg>
                            <p class="text-text-secondary text-sm">Click to upload or drag and drop</p>
                            <p class="text-text-secondary text-xs">PNG, JPG, MP4 up to 10MB</p>
                            <input type="file" id="photoUpload" class="hidden" accept="image/*,video/*" />
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="flex items-center justify-end space-x-4 pt-6 border-t border-border">
                        <button type="button" id="cancelBtn" class="px-4 py-2 text-text-secondary hover:text-text-primary transition-colors">
                            Cancel
                        </button>
                        <button type="submit" class="btn-primary">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                            Log Observation
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // DOM Elements
        const logObservationBtn = document.getElementById('logObservationBtn');
        const observationModal = document.getElementById('observationModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const observationForm = document.getElementById('observationForm');
        const resetFilters = document.getElementById('resetFilters');
        const behaviorFilters = document.querySelectorAll('.behavior-filter');
        const speciesFilter = document.getElementById('speciesFilter');
        const staffFilter = document.getElementById('staffFilter');
        const severityFilter = document.getElementById('severityFilter');
        const sortBy = document.getElementById('sortBy');
        const observationsList = document.getElementById('observationsList');
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        const exportBtn = document.getElementById('exportBtn');

        // Modal Controls
        logObservationBtn.addEventListener('click', () => {
            observationModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });

        [closeModal, cancelBtn].forEach(btn => {
            btn.addEventListener('click', () => {
                observationModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                observationForm.reset();
            });
        });

        // Close modal on outside click
        observationModal.addEventListener('click', (e) => {
            if (e.target === observationModal) {
                observationModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                observationForm.reset();
            }
        });

        // Form Submission
        observationForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Show success message
            alert('Observation logged successfully!');
            
            // Close modal and reset form
            observationModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            observationForm.reset();
            
            // In a real app, this would send data to the server
            console.log('New observation logged');
        });

        // Filter Functionality
        function applyFilters() {
            const cards = document.querySelectorAll('.observation-card');
            const selectedBehaviors = Array.from(behaviorFilters)
                .filter(cb => cb.checked && cb.value !== 'all')
                .map(cb => cb.value);
            const selectedSpecies = speciesFilter.value;
            const selectedStaff = staffFilter.value;
            const selectedSeverity = severityFilter.value;
            const allBehaviorsChecked = document.querySelector('.behavior-filter[value="all"]').checked;

            cards.forEach(card => {
                const cardSpecies = card.dataset.species;
                const cardBehavior = card.dataset.behavior;
                const cardStaff = card.dataset.staff;
                const cardSeverity = card.dataset.severity;

                let show = true;

                // Behavior filter
                if (!allBehaviorsChecked && selectedBehaviors.length > 0) {
                    show = show && selectedBehaviors.includes(cardBehavior);
                }

                // Species filter
                if (selectedSpecies) {
                    show = show && cardSpecies === selectedSpecies;
                }

                // Staff filter
                if (selectedStaff) {
                    show = show && cardStaff === selectedStaff;
                }

                // Severity filter
                if (selectedSeverity) {
                    show = show && cardSeverity === selectedSeverity;
                }

                card.style.display = show ? 'block' : 'none';
            });
        }

        // Event listeners for filters
        behaviorFilters.forEach(filter => {
            filter.addEventListener('change', (e) => {
                if (e.target.value === 'all') {
                    behaviorFilters.forEach(f => {
                        if (f.value !== 'all') f.checked = false;
                    });
                } else {
                    document.querySelector('.behavior-filter[value="all"]').checked = false;
                }
                applyFilters();
            });
        });

        [speciesFilter, staffFilter, severityFilter].forEach(filter => {
            filter.addEventListener('change', applyFilters);
        });

        // Reset Filters
        resetFilters.addEventListener('click', () => {
            behaviorFilters.forEach(filter => {
                filter.checked = filter.value === 'all';
            });
            speciesFilter.value = '';
            staffFilter.value = '';
            severityFilter.value = '';
            document.getElementById('startDate').value = '2025-09-11';
            document.getElementById('endDate').value = '2025-09-18';
            applyFilters();
        });

        // Sort Functionality
        sortBy.addEventListener('change', (e) => {
            const sortValue = e.target.value;
            const cards = Array.from(document.querySelectorAll('.observation-card'));
            
            cards.sort((a, b) => {
                switch (sortValue) {
                    case 'newest':
                        return new Date(b.dataset.date) - new Date(a.dataset.date);
                    case 'oldest':
                        return new Date(a.dataset.date) - new Date(b.dataset.date);
                    case 'severity':
                        const severityOrder = { critical: 4, high: 3, medium: 2, low: 1 };
                        return severityOrder[b.dataset.severity] - severityOrder[a.dataset.severity];
                    case 'species':
                        return a.dataset.species.localeCompare(b.dataset.species);
                    default:
                        return 0;
                }
            });

            const parent = cards[0].parentNode;
            cards.forEach(card => parent.appendChild(card));
        });

        // Load More Functionality
        loadMoreBtn.addEventListener('click', () => {
            // Simulate loading more observations
            loadMoreBtn.textContent = 'Loading...';
            loadMoreBtn.disabled = true;
            
            setTimeout(() => {
                loadMoreBtn.textContent = 'Load More Observations';
                loadMoreBtn.disabled = false;
                alert('No more observations to load');
            }, 1000);
        });

        // Export Functionality
        exportBtn.addEventListener('click', () => {
            alert('Behavioral data export initiated. You will receive an email with the report shortly.');
        });

        // Photo Upload Handling
        const photoUpload = document.getElementById('photoUpload');
        const uploadArea = photoUpload.parentElement;

        uploadArea.addEventListener('click', () => {
            photoUpload.click();
        });

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('border-primary', 'bg-primary-50');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('border-primary', 'bg-primary-50');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('border-primary', 'bg-primary-50');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                photoUpload.files = files;
                updateUploadDisplay(files[0]);
            }
        });

        photoUpload.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                updateUploadDisplay(e.target.files[0]);
            }
        });

        function updateUploadDisplay(file) {
            const uploadText = uploadArea.querySelector('p');
            uploadText.textContent = `Selected: ${file.name}`;
        }

        // Initialize filters
        applyFilters();

        // Check authentication
        const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
        if (!currentUser.email) {
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>
